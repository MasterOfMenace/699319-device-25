"use strict";var writeusButton=document.querySelector(".writeus-button"),writeusPopup=document.querySelector(".modal-writeus"),writeusCloseButton=writeusPopup.querySelector(".modal-close"),form=writeusPopup.querySelector("form"),inputName=writeusPopup.querySelector("[name=name]"),email=writeusPopup.querySelector("[name=email]"),letter=writeusPopup.querySelector("[name=letter]"),mapLink=document.querySelector(".map-wrapper"),mapPopup=document.querySelector(".modal-map"),mapCloseButton=mapPopup.querySelector(".modal-close"),isLocalStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("inputName")}catch(e){isLocalStorageSupport=!1}try{storageEmail=localStorage.getItem("email")}catch(e){isLocalStorageSupport=!1}writeusButton.addEventListener("click",function(e){e.preventDefault(),writeusPopup.classList.toggle("modal-show"),inputName.focus(),storageName&&storageEmail?(inputName.value=storageName,email.value=storageEmail,letter.focus()):storageName?(inputName.value=storageName,email.focus()):inputName.focus()}),writeusCloseButton.addEventListener("click",function(e){e.preventDefault(),writeusPopup.classList.toggle("modal-show"),inputName.classList.remove("input-invalid"),email.classList.remove("input-invalid"),letter.classList.remove("input-invalid")}),form.addEventListener("submit",function(e){inputName.value&&email.value&&letter.value?isLocalStorageSupport&&(localStorage.setItem("inputName",inputName.value),localStorage.setItem("email",email.value)):(e.preventDefault(),inputName.classList.add("input-invalid"),email.classList.add("input-invalid"),letter.classList.add("input-invalid"))}),mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.toggle("modal-show")}),mapCloseButton.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.toggle("modal-show")}),window.addEventListener("keydown",function(e){"Escape"===e.code&&(e.preventDefault(),writeusPopup.classList.contains("modal-show")?(writeusPopup.classList.remove("modal-show"),inputName.classList.remove("input-invalid"),email.classList.remove("input-invalid"),letter.classList.remove("input-invalid")):mapPopup.classList.contains("modal-show")&&mapPopup.classList.remove("modal-show"))});